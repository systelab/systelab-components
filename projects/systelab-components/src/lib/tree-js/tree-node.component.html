<div class="slab-flex-1 d-flex flex-column slab-tree-node">
    <div class="d-flex align-items-center slab-tree-label">
        <span *ngIf="!node.expanded" [style.opacity]="node.children?.length?1:0"
              class="slab-tree-icon slab-left-margin h-100 d-flex align-items-center justify-content-center {{node.collapsedIcon}}" (click)="doExpand(node)"></span>
        <span *ngIf="node.expanded" [style.opacity]="node.children?.length?1:0"
              class="slab-tree-icon slab-left-margin h-100 d-flex align-items-center justify-content-center {{node.expandedIcon}}" (click)="doCollapse(node)"></span>
        <div class="slab-flex-1 d-flex align-items-center ml-2" (click)="nodeSelect(node)">
            <span *ngIf="node.icon&&!withCheckboxes" class="{{node.icon}} mr-2"></span>
            <div *ngIf="withCheckboxes">
                <input type="checkbox" id="{{node.id}}" [(ngModel)]="node.isSelected" (change)="nodeSelect(node);$event.stopPropagation()">
                <label class="col-form-label {{node.textClass}}" for="{{node.id}}"><i *ngIf="node.icon" class="{{node.icon}} mr-2"></i>{{node.label}}</label>
            </div>
            <span *ngIf="!withCheckboxes" class="{{node.textClass}}">{{node.label}}</span>
        </div>
    </div>
    <div *ngIf="node.children?.length && node.expanded" class="ml-3">
        <tree-node *ngFor="let childNode of node.children" [withCheckboxes]="withCheckboxes" [node]="childNode" (childChange)="doOnChildChange($event)"></tree-node>
    </div>
</div>
